<br/>
{% if not form == 1 %}
<div class="page-header">
  <h1>
	Verzeichnis
  </h1>
  <blockquote>
	Eine Auflistung aller Interfaces und ihrer zugehörigen Komponenten
  </blockquote>
</div>
{% endif %}
{% if not form == 0 %}
<div class="page-header">
  <h1>
	Suchergebnisse
  </h1>
  <blockquote>
	Alle direkten und indirekten Ergebnisse für ""
	{# TODO: Suchwortparameter #}
  </blockquote>
</div>
	<div class="tabbable">
	  <ul class="nav nav-tabs" id="viewSelection">
		<li class="active">
		  <a href="#interface" data-toggle="tab" id="viewInterface">
			Interface
		  </a>
		</li>
		<li>
		  <a href="#component" data-toggle="tab" id="viewComponent">
			Components
		  </a>
		</li>
	  </ul>
	  <div class="tab-content">
		<div class="tab-pane active" id="interface">
{% endif %}
{# --------------- LEFT CONTENT SIDE --------------------------- #}
<div class="tabbable tabs-left"> 
  {# Only required for left/right tabs #}
			<ul class="nav nav-tabs" id="interfaceList">
			  <center><b>Interfaces</b></center>
			  {% for di in interfaces.object_list %}
				<li>
				  {% if di.is_direct %}
					<a href="#i_{{ di.key }}" data-toogle="tab" 
					  style="color: #006600" id="i_{{ di.key }}_list">
				  {% else %}
					<a href="#i_{{ di.key }}" data-toggle="tab" 
					  id="i_{{ di.key }}_list">
				  {% endif %}
				  <strong>{{ di.name }}</strong><br />
					  <small>{{ di.description }}</small>
					</a>
				  </li>
				{% endfor %} {# di in... #}
			  <div class="pagination">
				<ul>
				  {% for button in interface_page_buttons %}
					{{ button|safe }}
				  {% endfor %}
				</ul>
			  </div>
			</ul>

{# -------------------- RIGHT CONTENT SIDE -------------------- #}
			<div class="tab-content content">
			  {% for di in interfaces.object_list %}
				<div class="tab-pane" id="i_{{ di.key }}">
				  <center>
					<b>
					{% if not di.is_direct %}
					  Gefundene
					{% endif %}
					Komponenten von {{ di.name }}</b>
				  </center>
				  {% for c in di.paged_components.object_list %}
					{% if c in search_components or di.is_direct %}
					<div class="component" 
					  style="display: block; position: static; margin-bottom: 5px;">
					  <blockquote>
					  <strong>
						<a href="{% url component c.id %}">
						{{c.name}} <br />
						</a>
					  </strong>
						<small>
						  {{ c.brief_description }} <br />
						  <u>Programmierer:</u> 
						  {% for pro in programmer %}
							{% if pro.component == c %}
							  {% if pro.email in u_programmer.email %}
							  {# TODO Userprofillink einfügen #}
								<a href="javascript:void(0)"> 
								  {{ pro.email }}
								</a>
							  {% else %}
								{{ pro.email }}
							  {% endif %}
							{% endif %}
							{% endfor %}{# programmer #}
						  </small>
						</blockquote>
					  </div>
					  {% endif %}
				  {% endfor %}{# c in... #}
				  <div class="pagination">
					<ul>
					  {% for button in di.page_buttons %}
						{{ button|safe }}
					  {% endfor %}
					</ul>
				  </div>
				</div>
				{% endfor %}{# di in... #}
			</div>
		  </div>
		  <script type="text/javascript">
			$(function() {
			  $('#interfaceList a').click(function(e) {
				e.preventDefault();
				var value = $(this).attr('href').substr(1);
				var url = getModifiedUrlByGet("item", value);
				window.history.pushState("object or string", "new Title", url);
				$(this).tab('show');
			  });
			  var item = getValueOfGET("item");
			  if(item == '') {
				item = 'interfaceList a:first';
			  }
			  else {
				item += "_list";
			  }
			  $('#'+item).tab('show');

			  {% if not form == 0 %}
			  $('#viewSelection a').click(function(e) {
				e.preventDefault();
				var value = $(this).attr('href').substr(1);
				var url = getModifiedUrlByGet("view", value);
				window.history.pushState("object or string", "new Title", url);
				$(this).tab('show');
				});

			  var view = "{{ view }}";
			  if(view == 'component') {
				$('#viewComponent').tab('show');
				var url = getModifiedUrlByGet("view", "component");
				window.history.pushState("object or string", "new Title", url);
			  }
			  else {
				$('#viewInterface').tab('show');
			  }

			  {% endif %}

			});
		  </script>
{% if not form == 0 %}		
		</div>
		<div class="tab-pane" id="component">
			{% for sc in paged_components.object_list %}
			  <div class="component" style="display: block; position: static; margin-bottom: 5px;">
				<blockquote>
					  <strong>
						<a href="{% url component sc.id %}">
						{{sc.name}} <br />
						</a>
					  </strong>
					<small>
				{{ sc.brief_description }} <br />
				  <u>Programmierer:</u> 
				  {% for pro in programmer %}
					{% if pro.component == sc %}
					  {% if pro.email in u_programmer.email %}
						{# TODO Userprofillink einfügen #}
						<a href="javascript:void(0)"> 
						  {{ pro.email }}
						</a>
					  {% else %}
						{{ pro.email }}
					  {% endif %}
					{% endif %}
				  {% endfor %} {# pro in... #}
				</small>
				</blockquote>		 
			  </div>
			  {% endfor %} {# sc in.... #}
			  <br />
			  <div class="pagination">
				<ul>
				  {% for button in s_components_page_buttons %}
					{{ button|safe }}
				  {% endfor %}
				</ul>
			  </div>
		</div>
	  </div>  
	</div>
{% endif %}  
