{% extends "base.html" %}
{% block title %}
Component {{ component.name }}
{% endblock title %}
{% block content %}
<div class="transbox">
<div class="page-header">
  <h1>{{ component.name }} 
  </h1>
</div>
<table class="table table-condensed">
  <tr>
	<td>
	  {{ component.brief_description  }} 
	</td>
  </tr>
  <tr>
	<td>
	  Interface
	</td>
	<td>
	  {% for i in interfaces %}
		{{ i.name }}{% if not forloop.last %}, {% endif %}
	  {% endfor %}
	</td>
  </tr>
  <tr>
	<td>
	  Ersteller:
	  {# {% trans "Ersteller" %} #}
	</td>
	<td> 
	  {% for p in programmer %}
		{% if p in users.email %}
		  <a href="{% url user u.pk %}"> {{ p.email }} </a>
		{% else %}
		  {{ p.email }}
		{% endif %}
	  {% endfor %} 
	</td>
  </tr>
  <tr>
	<td>
	  Datum: 
	  {# {% trans "Datum" %} #}
	</td>
	<td> 
	  {{ component.datum }} 
	</td>
  </tr>
  {% if see_homeserver %}
  <tr>
	<td> 
	  Homeserver 
	</td>
	<td> 
	  <table class="table table-condensed">  
		{% for hs in homeserver %}
		  <tr>
			<td> 
			  {{ hs.name }} 
			</td>
			<td> 
			  {{ hs.domain }} 
			</td>
		  </tr>
		{% endfor %}
	  </table>
	</td>
  </tr>
  {% endif %}
</table>
<div class="accordion" id="accordion2">
  <div class="accordion-group">
	<div class="accordion-heading">
	  <a 
		class="accordion-toggle" 
		data-toggle="collapse"
		data-parent="#accordion2" 
		href="#collapseOne"
	  >
		Beschreibung
	  </a>
	</div>
  <div id="collapseOne" class="accordion-body collapse in">
	<div class="accordion-inner">
	  {{ component.description }}
	</div>
  </div>
</div>
</div>

{% if see_homecluster %}
<div class="accordion" id="accordion1">
  <div class="accordion-group">
	{% for hc in homecluster %}
	  <div class="accordion-heading">
		<a 
		  class="accordion-toggle" 
		  data-toggle="collapse"
		  data-parent="#accordion1" 
		  href="#{{ hc.id }}"
		>
		  {{ hc.name }} {{ hc.domain }}
		</a>
	  </div>
	  <div id="{{ hc.id }}" class="accordion-body collapse in">
		<div class="accordion-inner">
		  {% for h in hc.components_cluster_set.all %}
		  <table>
			{% if see_path %}
			  <tr>
				<td> 
				  Pfad: 
				</td>
				<td> 
				  {{ h.path }} 
				</td>
			  </tr>
			{% endif %}
			{% if see_code %}
			  <tr>
				<td> 
				  Code: 
				</td>
				<td> 
				  {{ h.code }} 
				</td>
			  </tr>
			{% endif %}
		  </table>
		  {% endfor %}
		</div>
	  </div>
	{% endfor %}
  </div>
</div>
{% endif %}
</div>
{% endblock content %}				
